# 4. Sequence diagram

이 장은 시스템 내 각 기능의 동작 흐름을 표현한 Sequence diagram(이하 SD)과 그 설명을 제공한다. SD는 사용자의 요청이 시스템 내부를 통해 처리되는 과정을 시간의 흐름에 따라 시각적으로 나타낸 것으로, 각 기능별로 Controller, Service, Repository 간의 메시지 교환 관계를 중심으로 구성된다. 각 다이어그램은 특정 기능의 Use case 시나리오를 기반으로 작성되었으며, 사용자와 시스템 간 상호작용 과정에서 발생하는 주요 로직 흐름과 예외 처리(성공/실패 분기)를 함께 표현한다. 이를 통해 시스템의 처리 절차를 명확히 이해하고, 각 기능이 수행되는 구체적인 단계를 분석할 수 있다.

## 4.1. User sequence diagram

### - 회원가입

![[그림 6-1] 회원가입 Sequence diagram](./image/회원가입.png)
[그림 6-1] 회원가입 Sequence diagram

[그림 6-1]은 사용자가 '협업의 민족'에 회원가입을 하는 use case를 나타내는 sequence diagram이다. use case description에서 <Use Case #1>의 경우이다.
사용자가 회원가입 화면에서 필수정보를 입력하고 회원가입 버튼을 클릭할 때 기능이 시작된다. 사용자가 회원가입 요청을 보내면, 시스템은 순차적으로 이메일 중복 여부를 검증하고, 비밀번호를 암호화하여 DB에 새로운 사용자를 저장한다.

### - 로그인

![[그림 6-2] 로그인 Sequence diagram](./image/로그인.png)
[그림 6-2] 로그인 Sequence diagram

[그림 6-2]는 사용자가 '협업의 민족'에 로그인을 하는 use case를 나타내는 sequence diagram이다. use case description에서 <Use Case #2>의 경우이다.
사용자가 로그인 화면에서 이메일과 비밀번호를 입력하고 로그인 버튼을 클릭할 때 기능이 시작된다. 사용자가 로그인 요청을 보내면, 시스템은 순차적으로 사용자의 신원을 검증하고, 정상적으로 인증된 사용자에게만 JWT토큰을 발급한다.

### - 개인정보 확인하기

![[그림 6-3] 개인정보 확인 Sequence diagram](./image/개인정보_확인.png)
[그림 6-3] 개인정보 확인 Sequence diagram

[그림 6-3]은 사용자가 자신의 개인정보를 확인하는 use case를 나타내는 sequence diagram이다. use case description에서 <Use Case #29>의 경우이다.
사용자가 로그인된 상태에서 설정 페이지로 넘어갈 때 기능이 시작된다. 사용자가 개인정보 조회 요청을 보내면, 시스템은 JWT 토큰을 통해 사용자를 인증하고, 토큰에 포함된 이메일을 기반으로 해당 사용자의 정보를 조회한다. 조회 결과는 이름(name), 이메일(email), 전화번호(phone), 분야(field)로 구성된 사용자 정보로 반환되며, 클라이언트 화면에 현재 개인 정보들이 표시된다.

### - 개인정보 변경하기

![[그림 6-4] 개인정보 변경 Sequence diagram](./image/개인정보_변경.png)
[그림 6-4] 개인정보 변경 Sequence diagram

[그림 6-4]는 사용자가 비밀번호를 제외한 개인정보를 수정하는 use case를 나타내는 sequence diagram이다. use case description에서 <Use Case #8>의 경우이다.
사용자가 프로필 화면에서 이름이나 분야(전공/직무) 혹은 전화번호를 수정하고 서버에 api 요청을 보낼 때 기능이 시작된다. 사용자가 정보 수정 요청을 보내면, 시스템은 JWT 토큰을 통해 사용자를 인증하고, 해당 이메일의 사용자 정보를 찾아 수정된 값을 반영한다.

### - 비밀번호 변경하기

![[그림 6-5] 비밀번호 변경 Sequence diagram](./image/비밀번호_변경.png)
[그림 6-5] 비밀번호 변경 Sequence diagram

[그림 6-5]는 사용자가 개인정보 중 비밀번호를 변경하는 use case를 나타내는 sequence diagram이다. use case description에서 <Use Case #8>의 경우이다.
사용자가 설정 화면에서 현재 비밀번호와 새 비밀번호를 입력하고 "비밀번호 변경" 버튼을 클릭할 때 기능이 시작된다. 사용자가 비밀번호 변경 요청을 보내면, 시스템은 JWT 토큰을 통해 사용자를 인증하고, 현재 비밀번호가 일치하는 경우에만 새 비밀번호로 갱신한다.
